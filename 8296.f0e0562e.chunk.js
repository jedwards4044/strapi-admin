"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[8296],{36833:(I,E,t)=>{t.d(E,{pl:()=>R,aY:()=>B,q5:()=>h});var u=t(53547),a=t(5504),g=t(25804),L=t(18172);const v={data:[],isLoading:!0},D=(s,i)=>(0,L.default)(s,e=>{switch(i.type){case"GET_DATA_SUCCEEDED":{e.data=i.data,e.isLoading=!1;break}case"GET_DATA_ERROR":{e.isLoading=!1;break}default:return e}}),R=({ssoEnabled:s})=>{const[i,e]=(0,u.useReducer)(D,v),r=(0,a.useNotification)(),{get:c}=(0,a.useFetchClient)();return(0,u.useEffect)(()=>{(async()=>{try{if(!s){e({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:o}=await c((0,g.IF)("providers"));e({type:"GET_DATA_SUCCEEDED",data:o})}catch(o){console.error(o),e({type:"GET_DATA_ERROR"}),r({type:"warning",message:{id:"notification.error"}})}})()},[c,s,r]),i};var p=t(14293),O=t.n(p),P=t(86896),S=t(16550),y=t(75336),M=t(7694),N=t(36364);function U(){const s=(0,M.v9)(N._),{get:i}=(0,a.useFetchClient)(),{isLoading:e,allowedActions:{canRead:r,canCreate:c,canUpdate:d,canDelete:o}}=(0,a.useRBAC)(s.settings.users),f=r&&c&&d&&o,{data:n,isError:m,isLoading:A}=(0,y.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:T}}=await i("/admin/license-limit-information");return T},{enabled:!e&&f}),l=n??{},F=u.useCallback(T=>(l?.features??[]).find(K=>K.name===T)?.options??{},[l?.features]);return{license:l,getFeature:F,isError:m,isLoading:A}}const h=U,C="strapi-notification-seat-limit",G="https://cloud.strapi.io/profile/billing",H="https://strapi.io/billing/request-seats",B=()=>{const{formatMessage:s}=(0,P.Z)();let{license:i,isError:e,isLoading:r}=h();const c=(0,a.useNotification)(),{pathname:d}=(0,S.TH)(),{enforcementUserCount:o,permittedSeats:f,licenseLimitStatus:n,isHostedOnStrapiCloud:m}=i;(0,u.useEffect)(()=>{if(e||r)return;const A=!O()(f)&&!window.sessionStorage.getItem(`${C}-${d}`)&&(n==="AT_LIMIT"||n==="OVER_LIMIT");let l;n==="OVER_LIMIT"?l="warning":n==="AT_LIMIT"&&(l="softWarning"),A&&c({type:l,message:s({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:n}),title:s({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:n,enforcementUserCount:o,permittedSeats:f}),link:{url:m?G:H,label:s({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:m})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${C}-${d}`,!0)}})},[c,i,d,s,r,f,n,o,m,e])}},66831:(I,E,t)=>{t.r(E),t.d(E,{HomePageEE:()=>L});var u=t(53547),a=t(96753),g=t(36833);function L(){return(0,g.aY)(),u.createElement(a.HomePageCE,null)}}}]);
