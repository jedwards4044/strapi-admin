"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[3037],{23037:(T,c,e)=>{e.r(c),e.d(c,{InformationBoxEE:()=>w});var t=e(53547),r=e(47338),l=e(75878),d=e(78549),n=e(28809),o=e(5504),i=e(86896),s=e(75336),a=e(50236),f=e(52258),y=e(5318);const u="strapi_reviewWorkflows_stage";function w(){const{initialData:g,isCreatingEntry:C,layout:{uid:R},isSingleType:D,onChange:I}=(0,o.useCMEditViewDataManager)(),{put:P}=(0,o.useFetchClient)(),m=g?.[u]??null,k=Object.prototype.hasOwnProperty.call(g,u),{formatMessage:h}=(0,i.Z)(),{formatAPIError:L}=(0,o.useAPIErrorHandler)(),M=(0,o.useNotification)(),{workflows:N,isLoading:G}=(0,f.n)(),S=N?.[0]??null,{error:W,isLoading:U,mutateAsync:B}=(0,s.useMutation)(async({entityId:E,stageId:v,uid:O})=>{const A=D?"single-types":"collection-types",{data:{data:p}}=await P(`/admin/content-manager/${A}/${O}/${E}/stage`,{data:{id:v}});return I({target:{name:u,value:p[u]}},!0),p},{onSuccess(){M({type:"success",message:{id:"content-manager.reviewWorkflows.stage.notification.saved",defaultMessage:"Review stage updated"}})}}),_=m===null&&!G&&!C&&h({id:"content-manager.reviewWorkflows.stage.select.placeholder",defaultMessage:"Select a stage"}),F=W&&L(W)||_||null,K=async({value:E})=>{try{await B({entityId:g.id,stageId:E,uid:R})}catch{}},{themeColorName:x}=m?.color?(0,y.k)(m?.color):{};return t.createElement(a.d.Root,null,t.createElement(a.d.Title,null),k&&!C&&t.createElement(r.q4,{error:F,name:u,id:u,value:m?.id,onChange:E=>K({value:E}),label:h({id:"content-manager.reviewWorkflows.stage.label",defaultMessage:"Review stage"}),startIcon:t.createElement(l.k,{as:"span",height:2,background:m?.color,borderColor:x==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2,marginRight:"-3px"}),customizeContent:()=>t.createElement(l.k,{as:"span",justifyContent:"space-between",alignItems:"center",width:"100%"},t.createElement(d.Z,{textColor:"neutral800",ellipsis:!0},m?.name),U?t.createElement(n.a,{small:!0,style:{display:"flex"}}):null)},S?S.stages.map(({id:E,color:v,name:O})=>{const{themeColorName:A}=(0,y.k)(v);return t.createElement(r.ag,{startIcon:t.createElement(l.k,{height:2,background:v,borderColor:A==="neutral0"?"neutral150":"transparent",hasRadius:!0,shrink:0,width:2}),value:E,textValue:O},O)}):[]),t.createElement(a.d.Body,null))}},86978:(T,c,e)=>{e.d(c,{$k:()=>i,FT:()=>a,Nj:()=>o,Ot:()=>n,QM:()=>l,lv:()=>s,sN:()=>r,uL:()=>f,x4:()=>d});var t=e(20468);const r="settings_review-workflows",l="Settings/Review_Workflows/SET_WORKFLOWS",d="Settings/Review_Workflows/WORKFLOW_DELETE_STAGE",n="Settings/Review_Workflows/WORKFLOW_ADD_STAGE",o="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE",i="Settings/Review_Workflows/WORKFLOW_UPDATE_STAGE_POSITION",s={primary600:"Blue",primary200:"Lilac",alternative600:"Violet",alternative200:"Lavender",success600:"Green",success200:"Pale Green",danger500:"Cherry",danger200:"Pink",warning600:"Orange",warning200:"Yellow",secondary600:"Teal",secondary200:"Baby Blue",neutral400:"Gray",neutral0:"White"},a=t.W.colors.primary600,f={STAGE:"stage"}},52258:(T,c,e)=>{e.d(c,{n:()=>l});var t=e(5504),r=e(75336);function l(d={}){const{id:n="",...o}=d,i={populate:"stages"},{get:s}=(0,t.useFetchClient)(),{data:a,isLoading:f,status:y,refetch:u}=(0,r.useQuery)(["review-workflows","workflows",n],async()=>{try{const{data:{data:g}}=await s(`/admin/review-workflows/workflows/${n}`,{params:{...i,...o}});return g}catch{return null}});let w=[];return n&&a?w=[a]:Array.isArray(a)&&(w=a),{workflows:w,isLoading:f,status:y,refetch:u}}},5318:(T,c,e)=>{e.d(c,{k:()=>l,s:()=>d});var t=e(20468),r=e(86978);function l(n){if(!n)return null;const i=Object.entries(t.W.colors).filter(([,s])=>s.toUpperCase()===n.toUpperCase()).reduce((s,[a])=>(r.lv?.[a]&&(s=a),s),null);return i?{themeColorName:i,name:r.lv[i]}:null}function d(){return Object.entries(r.lv).map(([n,o])=>({hex:t.W.colors[n].toUpperCase(),name:o}))}}}]);
