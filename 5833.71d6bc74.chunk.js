"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[5833],{36833:(K,L,t)=>{t.d(L,{pl:()=>I,aY:()=>G,q5:()=>u});var i=t(53547),r=t(5504),T=t(25804),C=t(18172);const M={data:[],isLoading:!0},O=(s,n)=>(0,C.default)(s,e=>{switch(n.type){case"GET_DATA_SUCCEEDED":{e.data=n.data,e.isLoading=!1;break}case"GET_DATA_ERROR":{e.isLoading=!1;break}default:return e}}),I=({ssoEnabled:s})=>{const[n,e]=(0,i.useReducer)(O,M),l=(0,r.useNotification)(),{get:c}=(0,r.useFetchClient)();return(0,i.useEffect)(()=>{(async()=>{try{if(!s){e({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:o}=await c((0,T.IF)("providers"));e({type:"GET_DATA_SUCCEEDED",data:o})}catch(o){console.error(o),e({type:"GET_DATA_ERROR"}),l({type:"warning",message:{id:"notification.error"}})}})()},[c,s,l]),n};var v=t(14293),h=t.n(v),P=t(86896),p=t(16550),g=t(75336),R=t(7694),A=t(36364);function _(){const s=(0,R.v9)(A._),{get:n}=(0,r.useFetchClient)(),{isLoading:e,allowedActions:{canRead:l,canCreate:c,canUpdate:E,canDelete:o}}=(0,r.useRBAC)(s.settings.users),m=l&&c&&E&&o,{data:a,isError:f,isLoading:S}=(0,g.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:U}}=await n("/admin/license-limit-information");return U},{enabled:!e&&m}),d=a??{},F=i.useCallback(U=>(d?.features??[]).find($=>$.name===U)?.options??{},[d?.features]);return{license:d,getFeature:F,isError:f,isLoading:S}}const u=_,D="strapi-notification-seat-limit",y="https://cloud.strapi.io/profile/billing",W="https://strapi.io/billing/request-seats",G=()=>{const{formatMessage:s}=(0,P.Z)();let{license:n,isError:e,isLoading:l}=u();const c=(0,r.useNotification)(),{pathname:E}=(0,p.TH)(),{enforcementUserCount:o,permittedSeats:m,licenseLimitStatus:a,isHostedOnStrapiCloud:f}=n;(0,i.useEffect)(()=>{if(e||l)return;const S=!h()(m)&&!window.sessionStorage.getItem(`${D}-${E}`)&&(a==="AT_LIMIT"||a==="OVER_LIMIT");let d;a==="OVER_LIMIT"?d="warning":a==="AT_LIMIT"&&(d="softWarning"),S&&c({type:d,message:s({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:a}),title:s({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:a,enforcementUserCount:o,permittedSeats:m}),link:{url:f?y:W,label:s({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:f})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${D}-${E}`,!0)}})},[c,n,E,s,l,m,a,o,f,e])}},85833:(K,L,t)=>{t.r(L),t.d(L,{CreateActionEE:()=>g});var i=t(53547),r=t(75878),T=t(74273),C=t(80907),M=t(19442),B=t(91330),O=t(46948),N=t(14293),I=t.n(N),v=t(45697),h=t.n(v),P=t(86896),p=t(36833);const g=({onClick:R})=>{const{formatMessage:A}=(0,P.Z)(),{license:{permittedSeats:_,shouldStopCreate:u},isError:D,isLoading:y}=(0,p.q5)();return D||y?null:i.createElement(r.k,{gap:2},!I()(_)&&u&&i.createElement(T.u,{description:A({id:"Settings.application.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"}),position:"left"},i.createElement(C.J,{width:`${14/16}rem`,height:`${14/16}rem`,color:"danger500",as:B.Z})),i.createElement(M.z,{"data-testid":"create-user-button",onClick:R,startIcon:i.createElement(O.Z,null),size:"S",disabled:u},A({id:"Settings.permissions.users.create",defaultMessage:"Invite new user"})))};g.propTypes={onClick:h().func.isRequired}}}]);
