"use strict";(self.webpackChunkmy_project=self.webpackChunkmy_project||[]).push([[5013],{36833:(N,f,t)=>{t.d(f,{pl:()=>g,aY:()=>W,q5:()=>P});var e=t(53547),a=t(5504),E=t(25804),L=t(18172);const M={data:[],isLoading:!0},T=(n,r)=>(0,L.default)(n,i=>{switch(r.type){case"GET_DATA_SUCCEEDED":{i.data=r.data,i.isLoading=!1;break}case"GET_DATA_ERROR":{i.isLoading=!1;break}default:return i}}),g=({ssoEnabled:n})=>{const[r,i]=(0,e.useReducer)(T,M),m=(0,a.useNotification)(),{get:u}=(0,a.useFetchClient)();return(0,e.useEffect)(()=>{(async()=>{try{if(!n){i({type:"GET_DATA_SUCCEEDED",data:[]});return}const{data:c}=await u((0,E.IF)("providers"));i({type:"GET_DATA_SUCCEEDED",data:c})}catch(c){console.error(c),i({type:"GET_DATA_ERROR"}),m({type:"warning",message:{id:"notification.error"}})}})()},[u,n,m]),r};var s=t(14293),o=t.n(s),D=t(86896),C=t(16550),p=t(75336),O=t(7694),d=t(36364);function v(){const n=(0,O.v9)(d._),{get:r}=(0,a.useFetchClient)(),{isLoading:i,allowedActions:{canRead:m,canCreate:u,canUpdate:I,canDelete:c}}=(0,a.useRBAC)(n.settings.users),R=m&&u&&I&&c,{data:l,isError:y,isLoading:K}=(0,p.useQuery)(["ee","license-limit-info"],async()=>{const{data:{data:x}}=await r("/admin/license-limit-information");return x},{enabled:!i&&R}),_=l??{},G=e.useCallback(x=>(_?.features??[]).find(j=>j.name===x)?.options??{},[_?.features]);return{license:_,getFeature:G,isError:y,isLoading:K}}const P=v,A="strapi-notification-seat-limit",S="https://cloud.strapi.io/profile/billing",B="https://strapi.io/billing/request-seats",W=()=>{const{formatMessage:n}=(0,D.Z)();let{license:r,isError:i,isLoading:m}=P();const u=(0,a.useNotification)(),{pathname:I}=(0,C.TH)(),{enforcementUserCount:c,permittedSeats:R,licenseLimitStatus:l,isHostedOnStrapiCloud:y}=r;(0,e.useEffect)(()=>{if(i||m)return;const K=!o()(R)&&!window.sessionStorage.getItem(`${A}-${I}`)&&(l==="AT_LIMIT"||l==="OVER_LIMIT");let _;l==="OVER_LIMIT"?_="warning":l==="AT_LIMIT"&&(_="softWarning"),K&&u({type:_,message:n({id:"notification.ee.warning.over-.message",defaultMessage:"Add seats to {licenseLimitStatus, select, OVER_LIMIT {invite} other {re-enable}} Users. If you already did it but it's not reflected in Strapi yet, make sure to restart your app."},{licenseLimitStatus:l}),title:n({id:"notification.ee.warning.at-seat-limit.title",defaultMessage:"{licenseLimitStatus, select, OVER_LIMIT {Over} other {At}} seat limit ({enforcementUserCount}/{permittedSeats})"},{licenseLimitStatus:l,enforcementUserCount:c,permittedSeats:R}),link:{url:y?S:B,label:n({id:"notification.ee.warning.seat-limit.link",defaultMessage:"{isHostedOnStrapiCloud, select, true {ADD SEATS} other {CONTACT SALES}}"},{isHostedOnStrapiCloud:y})},blockTransition:!0,onClose(){window.sessionStorage.setItem(`${A}-${I}`,!0)}})},[u,r,I,n,m,R,l,c,y,i])}},65013:(N,f,t)=>{t.r(f),t.d(f,{AdminSeatInfoEE:()=>O});var e=t(53547),a=t(61585),E=t(78549),L=t(75878),M=t(74273),U=t(80907),T=t(36182),h=t(5504),g=t(91330),s=t(91393),o=t(86896),D=t(36833);const C="https://cloud.strapi.io/profile/billing",p="https://strapi.io/billing/request-seats",O=()=>{const{formatMessage:d}=(0,o.Z)(),{license:{licenseLimitStatus:v,enforcementUserCount:P,permittedSeats:A,isHostedOnStrapiCloud:S},isError:B,isLoading:$}=(0,D.q5)();return B||$||!A?null:e.createElement(a.P,{col:6,s:12},e.createElement(E.Z,{variant:"sigma",textColor:"neutral600"},d({id:"Settings.application.admin-seats",defaultMessage:"Admin seats"})),e.createElement(L.k,{gap:2},e.createElement(L.k,null,e.createElement(E.Z,{as:"p"},d({id:"Settings.application.ee.admin-seats.count",defaultMessage:"<text>{enforcementUserCount}</text>/{permittedSeats}"},{permittedSeats:A,enforcementUserCount:P,text:W=>e.createElement(E.Z,{fontWeight:"semiBold",textColor:P>A?"danger500":null},W)}))),v==="OVER_LIMIT"&&e.createElement(M.u,{description:d({id:"Settings.application.ee.admin-seats.at-limit-tooltip",defaultMessage:"At limit: add seats to invite more users"})},e.createElement(U.J,{width:`${(0,h.pxToRem)(14)}rem`,height:`${(0,h.pxToRem)(14)}rem`,color:"danger500",as:g.Z}))),e.createElement(T.r,{href:S?C:p,isExternal:!0,endIcon:e.createElement(s.Z,null)},d({id:"Settings.application.ee.admin-seats.add-seats",defaultMessage:"{isHostedOnStrapiCloud, select, true {Add seats} other {Contact sales}}"},{isHostedOnStrapiCloud:S})))}},36182:(N,f,t)=>{t.d(f,{r:()=>g});var e=t(85893),a=t(53547),E=t(91393),L=t(88972),M=t(15585),U=t(63507),T=t(75515);const h=(0,L.default)(U.f)`
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  gap: ${({theme:s})=>s.spaces[2]};
  pointer-events: ${({disabled:s})=>s?"none":void 0};

  svg {
    font-size: ${10/16}rem;

    path {
      fill: ${({disabled:s,theme:o})=>s?o.colors.neutral600:o.colors.primary600};
    }
  }

  &:hover {
    color: ${({theme:s})=>s.colors.primary500};
  }

  &:active {
    color: ${({theme:s})=>s.colors.primary700};
  }

  ${M.BF};
`,g=a.forwardRef(({children:s,href:o,disabled:D=!1,startIcon:C,endIcon:p,isExternal:O=!0,...d},v)=>(0,e.jsxs)(h,{ref:v,href:o,disabled:D,isExternal:O,...d,children:[C,(0,e.jsx)(T.Z,{textColor:D?"neutral600":"primary600",children:s}),p,o&&!p&&O&&(0,e.jsx)(E.Z,{})]}));g.displayName="Link"}}]);
